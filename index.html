<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Winifred's Blog</title>
<link type="text/css" href="css/myBlogSTYLE.css" rel="stylesheet">
</head>

<body>
<body>
<div class="topFont">
<div class="topFont1">
WELCOME TO
</div>
<br/>
<br/>
<div class="topFont2">
Winifred's Blog
</div>
<div class="downDirect"><a class="icon-down" id="icon-down"></a></div>
</div>


<div class="top">

<div class="ball" id="ball">

</div>
<div class="topFont3">Winifred's Blog</div>
</div>
<div class="mainArticle">
<div class="navTop"><ul>
    <li style="margin-left:2px;"><a href="index.html" target="self">首 页</a></li><li><a href="学习笔记.html" target="_blank">学习笔记</a></li><li><a href="前端之路——无止境的学习之路.html" target="_blank">前端之路</a></li></ul>
</div>
<div class="show">
<div class="showL">
<div class="article" id="article"><a href="性能调优.html" target="_self"><div id="articleTitle1"><div class="head">JavaScript</div><div class="head2">提高Web应用性能之Javascript性能调优</div></div><div class="main" id="main1"><blockquote class="quote" id="quote1">Web 开发中经常会遇到性能的问题，而这些问题很大一部分都是由程序员写的 JavaScript 脚本性能不佳所造成的，里面包括了 JavaScript 语言本身的性能问题，以及其与 DOM 交互时的性能问题。</blockquote><img src="images/1.png" class="img" id="img1"></a>
 </div>

</div>
<input type="button" src="#" class="button" value="JavaScript more" id="jsMore">
<div class="showL1">
 
  <div class="article" id="article"><div id="articleTitle3"><div class="head">Css</div><div class="head2">暂无文章</div></div><div class="main" id="main3"><blockquote class="quote" id="quote3"></blockquote><img src="images/3.png" class="img" id="img3"></div>
</div>
<input type="button" src="#" class="button" value="JavaScript more" id="cssMore">
</div>
</div>
<div class="showR">
<div class="showR1">
<div class="article" id="article"><a href="说说那些HTML5标签.html" target="_self"><div id="articleTitle2"><div class="head">Html</div><div class="head2">说说那些HTML5标签</div></div><div class="main" id="main2"><blockquote class="quote" id="quote2">Html5是Web不断发展下的产物，语义化的新特性，让Html5有了很多超越Html的新特性。</blockquote><img src="images/2.png" class="img" id="img2"></a></div>
</div>
<input type="button" src="" class="button" value="JavaScript more" id="htmlMore">
</div>
<div class="showR2">
<div class="article" id="article"><div id="articleTitle4"><div class="head">JQuery</div><div class="head2">暂无文章</div></div><div class="main" id="main4"><blockquote class="quote" id="quote4"></blockquote><img src="images/4.png" class="img" id="img4"></div>

</div>
<input type="button" src="#" class="button" value="JavaScript more" id="jqueryMore">
</div>
</div>
</div>

</div>
</div>
<script src="d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="jquery-latest.js"></script>
<script>
$(document).ready(function(){
$("#icon-down").mousemove(function(){
  $("#icon-down").css("color","#0099CC");
});
$("#icon-down").mouseout(function(){
  $("#icon-down").css("color","#000");
});
})
function getXY(a, b, r, event)
{
	
	x = event.clientX;
	y = event.clientY;//.parseInt不能得到想要的结果但Number(x)可以
	x1 = Number(x);
	y1 = Number(y);
	var m = Math.abs(x1 - a)^2;
	var p = Math.abs(y1 - b)^2;
	var t = Math.sqrt(m + p);
		alert(t);
		if(x1 >= a & x1 <= a+r & y1 >= b & y1 <= b+r & t == r)
	{
		document.getElementById("a").innerHTML="(x坐标：" + x1 + ")" + "Y坐标：" + y1 +")";
	}
	else
	{
		document.getElementById("a").innerHTML="2";
	}
	

	
}

var width = 1250,
    height = 600;
	
var nodes = d3.range(80).map(function() { return {radius: Math.random() * 12 + 4,x: 5*(Math.random() * 12 + 4),y:2*( Math.random() * 12 + 4)};}),

    root = nodes[0],
    color = d3.scale.category20();
root.radius = 0;
root.fixed = true;
 
var force = d3.layout.force()
    .gravity(0.04)
    .charge(function(d, i) { return i ? 0 : -2000; })
    .nodes(nodes)
    .size([width, height]);

force.start();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

	
svg.selectAll("circle")
    .data(nodes.slice(1))
  .enter().append("circle")
    .attr("r", function(d) { return d.radius; })
    .style("fill", function(d, i) { return color(i % 3); })
	.append('Path').attr({//引用路径
		'xlink:href': '#mypath'
	})
	.style("z-index","1");

force.on("tick", function(e) {
  var q = d3.geom.quadtree(nodes),
      i = 0,
      n = nodes.length;
  while (++i < n) q.visit(collide(nodes[i]));

  svg.selectAll("circle")
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; })
	  .append('Path').attr({//引用路径
		'xlink:href': '#mypath'});
});

svg.on("mousemove", function() {
  var p1 = d3.mouse(this);
  root.px = p1[0];
  root.py = p1[1];
  force.resume();

});

function collide(node) {
  var r = node.radius + 160,<!--数字越大，第一次碰撞过后越不容易继续细微的碰撞，越稳定-->
  
      nx1 = node.x - r,
      nx2 = node.x + r,
      ny1 = node.y - r,
      ny2 = node.y + r;

  return function(quad, x1, y1, x2, y2) {
    if (quad.point && (quad.point !== node)) {
      var x = node.x - quad.point.x,
          y = node.y - quad.point.y,
          l = Math.sqrt(x * x + y * y),
          r = 10*node.radius + quad.point.radius;
      if (l < r) {
        l = (l - r) / l * .2;<!--这个点后面的数字越大，碰撞约剧烈，越不趋于稳定-->

        node.x -= x *= l;
        node.y -= y *= l;
        quad.point.x += x;
        quad.point.y += y;
      }
    }
    return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;
  };
  
}
</script>



<script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
<script type="text/javascript" src="myBlogJS.js"></script>


</body>
</html>
